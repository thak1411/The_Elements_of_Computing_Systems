# 프로젝트 이름 및 버전
PROJECT ( "Assembler" )
SET ( PROJECT_VERSION_MAJOR 1 )
SET ( PROJECT_VERSION_MINOR 0 )

# 빌드 옵션 #
SET ( CMAKE_BUILD_TYPE Debug )
SET ( CMAKE_VERBOSE_MAKEFILE true )

# 빌드 대상 소스파일 목록 #
SET ( OUTPUT_ELF
    "${CMAKE_PROJECT_NAME}-${PROJECT_VERSION_MAJOR}.${PROJECT_VERSION_MINOR}.out"
)
SET ( SRC_FILES
    ../Assembler.cc
    ../Code.cc
    ../Parser.cc
    ../SymbolTable.cc    
)

# 컴파일러 #
SET ( CMAKE_C_COMPILER "g++" )

# 컴파일 옵션 #
ADD_COMPILE_OPTIONS ( -g -Wall -std=c++11 )

# "Debug" 컴파일 & 링크 옵션 #
SET ( CMAKE_C_FLAGS_DEBUG "-DDEBUG -DC_FLAGS" )
SET ( CMAKE_EXE_LINKER_FLAGS_DEBUG "-DDEBUG -DLINKER_FLAGS" )

# "Release" 컴파일 & 링크 옵션 #
SET ( CMAKE_C_FLAGS_RELEASE "-DRELEASE -DC_FLAGS" )
SET ( CMAKE_EXE_LINKER_FLAGS_RELEASE "-DRELEASE -DLINKER_FLAGS" )

# 출력 디렉토리 #
SET ( CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BUILD_TYPE} )
SET ( CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BUILD_TYPE}/lib )
SET ( CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BUILD_TYPE}/lib )

# 빌드 대상 추가 #
ADD_EXECUTABLE( ${OUTPUT_ELF} ${SRC_FILES} )